# 页面

页面是最基本的内容构建块。它们对于独立使用很有用 内容（不基于日期或不是一组内容的内容，例如员工 成员或食谱）。

添加页面的最简单方法是在根目录中添加 HTML 文件 具有合适文件名的目录。您也可以使用 Markdown 编写页面 在构建时转换为 HTML 的扩展。对于具有以下条件的站点 主页、关于页面和联系页面，这是根目录 关联的网址可能如下所示：`.md`

```
.
├── about.md    # => http://example.com/about.html
├── index.html    # => http://example.com/
└── contact.html  # => http://example.com/contact.html
```

如果有很多页面，可以将它们组织到子文件夹中。然后，在构建站点时，用于对项目源中的页面进行分组的相同子文件夹将存在于该文件夹中。但是，当页面在前面设置*了不同的*永久链接时，子文件夹会相应地更改。`_site``_site`

```
.
├── about.md          # => http://example.com/about.html
├── documentation     # folder containing pages
│   └── doc1.md       # => http://example.com/documentation/doc1.html
├── design            # folder containing pages
│   └── draft.md      # => http://example.com/design/draft.html
```

## 更改输出网址[永久链接](http://jekyllrb.com/docs/pages/#changing-the-output-url)

您可能希望为源文件使用特定的文件夹结构，该结构会针对构建的网站进行更改。使用[永久链接](http://jekyllrb.com/docs/permalinks/)，您可以完全控制输出URL。

## 页面摘录[永久链接](http://jekyllrb.com/docs/pages/#excerpts-for-pages)

从 Jekyll 4.1.1 开始，人们*可以选择*通过在其页面中设置为 配置文件。`page_excerpts``true`

# 职位

博客被烘焙成杰基尔。您将博客文章编写为文本文件和 Jekyll 提供将其变成博客所需的一切。

## 帖子文件夹

该文件夹是博客文章所在的位置。您通常撰写帖子 在 [Markdown](https://daringfireball.net/projects/markdown/) 中，HTML 是 也支持。`_posts`

## 创建帖子

要创建帖子，请使用以下内容将文件添加到您的目录 格式：`_posts`

```
YEAR-MONTH-DAY-title.MARKUP
```

其中是一个四位数字，并且都是两位数 数字，并且是表示 文件。例如，以下是有效帖子文件名的示例：`YEAR``MONTH``DAY``MARKUP`

```
2011-12-31-new-years-eve-is-awesome.md
2012-09-12-how-to-write-a-blog.md
```

所有博客文章文件必须以[前言](http://jekyllrb.com/docs/front-matter/)开头，即 通常用于设置[布局](http://jekyllrb.com/docs/layouts/)或其他元数据。对于一个简单的 示例，这可以只是空：

```
---
layout: post
title:  "Welcome to Jekyll!"
---

# Welcome

**Hello world**, this is my first Jekyll blog post.

I hope you like it!
```

##### 专业提示™：链接到其他帖子

使用[`post_url`](http://jekyllrb.com/docs/liquid/tags/#linking-to-posts)标记以链接到其他帖子，而不必担心网址 当站点永久链接样式更改时中断。

##### 注意字符集

内容处理器可以修改某些字符以使其看起来更好。 例如，红地毯中的扩展转换标准， ASCII 引号字符为卷曲的 Unicode 字符。为了浏览器 要正确显示这些字符，请通过以下方式定义字符集元值 包括在您的布局中。`smart``<meta charset="utf-8">``<head>`

## 包括图像和资源

在某些时候，您会希望包含图像、下载内容或其他内容。 数字资产以及您的文本内容。一种常见的解决方案是创建 项目目录根目录中一个名为 的文件夹，类似于 放置任何图像、文件或其他资源的位置。然后，从内部 任何帖子，都可以使用站点的根作为资产的路径来链接它们 包括。执行此操作的最佳方法取决于您网站的（子）域的方式 和路径已配置，但以下是 Markdown 中的一些简单示例：`assets`

在帖子中包含图片素材资源：

```
... which is shown in the screenshot below:
![My helpful screenshot](/assets/screenshot.jpg)
```

Linking to a PDF for readers to download:

```
... you can [get the PDF](/assets/mydoc.pdf) directly.
```

## Displaying an index of posts[Permalink](http://jekyllrb.com/docs/posts/#displaying-an-index-of-posts)

Creating an index of posts on another page should be easy thanks to [Liquid](https://shopify.github.io/liquid/) and its tags. Here’s a simple example of how to create a list of links to your blog posts:

```
<ul>
  {% for post in site.posts %}
    <li>
      <a href="{{ post.url }}">{{ post.title }}</a>
    </li>
  {% endfor %}
</ul>
```

您可以完全控制帖子的显示方式（和位置）， 以及您如何构建网站。您应该阅读有关[模板如何的更多信息 ](http://jekyllrb.com/docs/templates/)如果您想了解更多信息，请与杰基尔合作。

请注意，该变量仅存在于上面的循环中。如果 您希望访问当前呈现的页面/帖子的变量（ 包含循环的帖子/页面的变量），请改用变量。`post``for``for``page`

## 标签和类别

Jekyll 对博客文章中*的标签*和*类别*提供一流的支持。

### 标签

帖子的标签在帖子的开头使用单个条目或多个条目的键定义。
自杰基尔 期望多个项目映射到键，如果它包含空格，它会自动*拆分*一个字符串条目。例如，前物将被处理成一个单一的实体，而前物将被处理 到条目数组中。`tag``tags``tags``tag: classic hollywood``"classic hollywood"``tags: classic hollywood``["classic", "hollywood"]`

无论选择哪种前言键，Jekyll 都会存储映射的元数据 到暴露给液体模板的复数键。

在当前站点中注册的所有标记都通过 向 Liquid 模板公开。在页面上迭代将产生另一个数组 两个项目，其中第一项是标签的名称，第二项是具有该标签*的帖子数组*。`site.tags``site.tags`

```
{% for tag in site.tags %}
  <h3>{{ tag[0] }}</h3>
  <ul>
    {% for post in tag[1] %}
      <li><a href="{{ post.url }}">{{ post.title }}</a></li>
    {% endfor %}
  </ul>
{% endfor %}
```

### 类别

帖子作品的类别类似于上述标签：

- 它们可以通过前言使用键或（遵循与标签相同的逻辑）来定义`category``categories`
- 在站点中注册的所有类别都暴露给 Liquid 模板，通过这些模板可以迭代（类似于标签的循环） 以上。`site.categories`

*然而，类别和标签之间的相似性到此为止。*

与标签不同，帖子的类别也可以由帖子的文件路径定义。 上面的任何目录都将作为一个类别读入。例如 如果帖子在路径 ， 然后并自动注册为该类别 发布。`_posts``movies/horror/_posts/2019-05-21-bride-of-chucky.markdown``movies``horror`

当帖子也有定义类别的前言时，它们就会被添加到 现有列表（如果尚不存在）。

类别和标签之间的标志性区别在于帖子的类别 可以合并到[生成的 URL](http://jekyllrb.com/docs/permalinks/#global) 中 发布，而标签不能。

因此，取决于前体是否具有， 或者，上面的示例帖子将具有 URL 作为 非此即彼。`category: classic hollywood``categories: classic hollywood``movies/horror/classic%20hollywood/2019/05/21/bride-of-chucky.html``movies/horror/classic/hollywood/2019/05/21/bride-of-chucky.html`

## Post excerpts[Permalink](http://jekyllrb.com/docs/posts/#post-excerpts)

You can access a snippet of a posts’s content by using variable on a post. By default this is the first paragraph of content in the post, however it can be customized by setting a variable in front matter or .`excerpt``excerpt_separator``_config.yml`

```
---
excerpt_separator: <!--more-->
---

Excerpt with multiple paragraphs

Here's another paragraph in the excerpt.
<!--more-->
Out-of-excerpt
```

Here’s an example of outputting a list of blog posts with an excerpt:

```
<ul>
  {% for post in site.posts %}
    <li>
      <a href="{{ post.url }}">{{ post.title }}</a>
      {{ post.excerpt }}
    </li>
  {% endfor %}
</ul>
```

## 草稿

草稿是文件名中没有日期的帖子。它们是您仍在的帖子 正在处理中，但还不想发布。要启动并运行草稿， 在站点的根目录中创建一个文件夹并创建初稿：`_drafts`

```
.
├── _drafts
│   └── a-draft-post.md
...
```

要使用草稿预览您的网站，请运行或使用开关。每个都将被分配值修改时间 的草稿文件的日期，因此您将看到当前编辑的草稿 作为最新帖子。`jekyll serve``jekyll build``--drafts`

# 前言

任何包含 [YAML](https://yaml.org/) 前言块的文件都将是 由杰基尔作为特殊文件处理。前言必须是第一位的 在文件中，并且必须采用在三段线之间设置的有效 YAML 的形式 线。下面是一个基本示例：

```
---
layout: post
title: Blogging Like a Hacker
---
```

在这些三段虚线之间，您可以设置预定义的变量（见下文） 作为参考），甚至创建您自己的自定义。这些变量将 然后您可以使用液体标签访问 文件，也包括相关页面或帖子的任何布局或内容 依赖。

##### UTF-8 字符编码警告

如果使用 UTF-8 编码，请确保没有标头 字符存在于您的文件中，否则会发生非常非常糟糕的事情 化身。如果您在[Windows上运行Jekyll](http://jekyllrb.com/docs/installation/windows/)，这一点尤其重要。`BOM`

##### 前言变量是可选的

如果您想使用 [Liquid 标签和变量](http://jekyllrb.com/docs/variables/)，但您的前言中不需要任何东西，只需将其留空即可！集 的三段线，中间没有任何内容，仍然会让杰基尔 处理您的文件。（这对于CSS和RSS提要之类的东西很有用！

## 预定义的全局变量[永久链接](http://jekyllrb.com/docs/front-matter/#predefined-global-variables)

您可以在 页面或帖子的前言。

| 变量        | 描述                                                         |
| ----------- | ------------------------------------------------------------ |
| `layout`    | 如果设置，则指定要使用的布局文件。使用布局文件 不带文件扩展名的名称。布局文件必须放置在目录中。`_layouts`使用将在不使用布局的情况下生成文件 文件。如果文件是帖子/文档并且具有 [前言中](http://jekyllrb.com/docs/configuration/front-matter-defaults/)定义的布局默认值。`null`从版本 3.5.0 开始，在帖子/文档中使用 在不使用布局文件的情况下生成文件，而不考虑前言默认值。 在页面中使用将导致 Jekyll 尝试 使用名为“无”的布局。`none``none` |
| `permalink` | 如果您需要处理的博客文章网址不是其他内容 站点范围的样式（默认），然后您可以设置 此变量将用作最终到达网址。`/year/month/day/title.html` |
| `published` | 如果您不希望特定帖子在 网站已生成。                          |

##### 呈现标记为未发布的帖子

要预览未发布的页面，请运行“jekyll serve”或“jekyll build” 使用“--未发布”开关。Jekyll 还有一个专门为博客文章量身定制的[方便草稿](http://jekyllrb.com/docs/posts/#drafts)功能。

## 自定义变量[永久链接](http://jekyllrb.com/docs/front-matter/#custom-variables)

您还可以设置自己的前言变量，您可以在 Liquid 中访问。为 例如，如果您设置了一个名为 的变量，则可以在页面中使用它：`food`

```
---
food: Pizza
---

<h1>{{ page.food }}</h1>
```

## 帖子的预定义变量[永久链接](http://jekyllrb.com/docs/front-matter/#predefined-variables-for-posts)

这些是开箱即用的，可用于帖子的前言。

| 变量                   | 描述                                                         |
| ---------------------- | ------------------------------------------------------------ |
| `date`                 | 此处的日期会覆盖帖子名称中的日期。这可以是 用于确保帖子的正确排序。日期在 格式;小时、分钟、秒和时区偏移量 是可选的。`YYYY-MM-DD HH:MM:SS +/-TTTT` |
| `category``categories` | 您可以指定一个或 帖子所属的更多类别。生成网站时 该帖子的行为就像是设置了这些类别一样 通常。类别（复数键）可以指定为 [YAML 列表](https://en.wikipedia.org/wiki/YAML#Basic_components)或 空格分隔的字符串。 |
| `tags`                 | 与类别类似，可以在帖子中添加一个或多个标签。 与类别一样，标记可以指定为 [YAML 列表](https://en.wikipedia.org/wiki/YAML#Basic_components)或 空格分隔的字符串。 |

##### 不要重复自己

如果您不想重复常用的前言变量 一遍又一遍地为它们定义[默认值](http://jekyllrb.com/docs/configuration/front-matter-defaults/)，并且只在必要时（或根本不覆盖它们）。这行得通 预定义变量和自定义变量。



# 收集

集合是将相关内容（如团队成员或 在会议上发言。

## 设置

要使用集合，首先需要在 .为 示例 下面是一组工作人员：`_config.yml`

```
collections:
  - staff_members
```

在这种情况下，定义为一个序列（即数组），没有为每个集合定义额外的元数据。 您可以选择为集合指定元数据，方法是定义为映射（即哈希映射）而不是序列，然后在其中定义其他字段：`collections``collections`

```
collections:
  staff_members:
    people: true
```

将集合定义为序列时，其页面不会由 违约。要启用此功能，必须在 集合，这需要将集合定义为映射。欲了解更多信息 信息，请参阅[输出](http://jekyllrb.com/docs/collections/#output)部分。`output: true`

##### 收集您的收藏3.7.0

您可以选择指定一个目录，以将所有集合存储在与 相同的位置。`collections_dir: my_collections`

然后杰基尔会寻找收藏品， 在集合中。`my_collections/_books``books``my_collections/_recipes``recipes`

##### 请务必将草稿和帖子移动到自定义收藏集目录中

如果指定一个目录来将所有集合存储在与 相同的位置，则需要将 and 目录移动到 和 。请注意，集合目录的名称不能以下划线 ('_') 开头。`collections_dir: my_collections``_drafts``_posts``my_collections/_drafts``my_collections/_posts`

## 添加内容

创建一个相应的文件夹（例如）并添加 文件。如果前物质存在，则处理前物质，并且所有内容 将前言推入文档属性后。如果没有正面 提供物质，Jekyll 会将其视为[静态文件](http://jekyllrb.com/docs/static-files/)，内容不会经过进一步处理。如果提供了前言， Jekyll 会将文件内容处理成预期的输出。`<source>/_staff_members``content`

无论前言是否存在，杰基尔都会写信给目的地 目录（例如 ）仅在集合中设置时 元数据。`_site``output: true`

例如，下面介绍了如何将工作人员添加到上面的收集组。 文件名包含以下内容：`./_staff_members/jane.md`

```
---
name: Jane Doe
position: Developer
---
Jane has worked on Jekyll for the past *five years*.
```

*请注意，尽管在内部被视为集合，但上述内容 不适用于[帖子](http://jekyllrb.com/docs/posts/)。具有有效文件名格式的帖子将是 标记为处理，即使它们不包含前体。*

##### 确保正确命名目录

文件夹的名称必须与您在其中定义的集合相同 您的文件，并添加了前面的字符。`_config.yml``_`

## 输出

现在，您可以在页面上迭代并输出内容 对于每个工作人员。与帖子类似，可以访问文档的正文 使用变量：`site.staff_members``content`

```
{% for staff_member in site.staff_members %}
  <h2>{{ staff_member.name }} - {{ staff_member.position }}</h2>
  <p>{{ staff_member.content | markdownify }}</p>
{% endfor %}
```

如果您希望 Jekyll 为您的文档中的每个文档创建一个呈现页面 集合，您可以在集合中设置密钥 元数据在 ：`output``true``_config.yml`

```
collections:
  staff_members:
    output: true
```

您可以使用以下属性链接到生成的页面：`url`

```
{% for staff_member in site.staff_members %}
  <h2>
    <a href="{{ staff_member.url }}">
      {{ staff_member.name }} - {{ staff_member.position }}
    </a>
  </h2>
  <p>{{ staff_member.content | markdownify }}</p>
{% endfor %}
```

## 永久链接

有特殊的[永久链接变量用于集合](http://jekyllrb.com/docs/permalinks/#collections) 帮助您控制整个集合的输出 URL。

## 文档自定义排序4.0

默认情况下，当集合中的两个文档在其前置内容中都有键时，它们将按其属性排序。但是，如果其中一个或两个文档的正面没有密钥，则按各自的路径对它们进行排序。`date``date``date`

您可以通过集合的元数据控制此排序。

### 按前置键排序

通过将元数据设置为前置键字符串，可以根据前置键对文档进行排序。例如 要根据键对教程集合进行排序，配置将是：`sort_by``lesson`

```
collections:
  tutorials:
    sort_by: lesson
```

文档按键值的递增顺序排列。如果文档未定义前言键 然后，该文档将立即放置在已排序的文档之后。当多个文档未定义前言键时， 这些文档按其日期或路径排序，然后紧跟在已排序的文档之后。

### 手动订购文档

您还可以通过设置元数据并按所需顺序**列出的文件名**来手动对文档进行排序。 例如，教程集合将配置为：`order`

```
collections:
  tutorials:
    order:
      - hello-world.md
      - introduction.md
      - basic-concepts.md
      - advanced-concepts.md
```

任何文件名与列表条目不匹配的文档都会放在重新排列的文档之后。如果文档是 嵌套在子目录下，也将它们包含在条目中：

```
collections:
  tutorials:
    order:
      - hello-world.md
      - introduction.md
      - concepts/basics.md
      - concepts/advanced.md
```

如果两个元数据键都已正确定义，则列表优先。`order`

## 液体属性

### 收集

集合也可在 下找到，其中包含元数据 您在（如果存在）和以下信息中指定：`site.collections``_config.yml`

| 变量                 | 描述                                                         |
| -------------------- | ------------------------------------------------------------ |
| `label`              | 您的收藏名称，例如 .`my_collection`                          |
| `docs`               | [文档](http://jekyllrb.com/docs/collections/#documents)数组。 |
| `files`              | 集合中的静态文件数组。                                       |
| `relative_directory` | 集合源目录相对于站点的路径 源。                              |
| `directory`          | 集合源目录的完整路径。                                       |
| `output`             | 集合的文档是否将作为单个输出 文件。                          |

##### 硬编码集合

除了您自己创建的任何集合之外，该集合还硬编码为 Jekyll。它是否存在 您是否有目录。这是需要注意的事项 根据需要进行迭代时 过滤掉它。`posts``_posts``site.collections`

您可能希望使用过滤器来查找您的收藏：`{{ site.collections | where: "label", "myCollection" | first }}`

##### 收藏和时间

除了硬编码默认集合中的文档外，集合中的所有文档 您创建，可通过 Liquid 访问，无论其分配的日期（如果有）如何，因此可渲染。`posts`

仅当相关集合时，才会尝试将文档写入磁盘 元数据具有 .此外，未来日期的文档只有在*也是真的*时才被写入。`output: true``site.future`

可以通过设置`published: false` (*`true`默认情况下*）在文件的前言中。

### 文件

除了文件中提供的任何前言外，相应的 文件，则每个文档具有以下属性：

| 变量            | 描述                                                         |
| --------------- | ------------------------------------------------------------ |
| `content`       | 文档的（未呈现）内容。如果没有前言 前提是，Jekyll 不会在您的集合中生成文件。如果 使用前言，那么这就是文件的所有内容 终止后 前言的“---”。 |
| `output`        | 文档的呈现输出，基于 .`content`                              |
| `path`          | 文档源文件的完整路径。                                       |
| `relative_path` | 文档源文件相对于网站源的路径。                               |
| `url`           | 呈现的集合的 URL。仅当文件所属的集合在站点配置中时，该文件才会写入目标。`output: true` |
| `collection`    | 文档集合的名称。                                             |
| `date`          | 文档的收集日期。                                             |

# 数据文件

除了 Jekyll 提供的[内置变量](http://jekyllrb.com/docs/variables/)外， 您可以指定自己的自定义数据，这些数据可以通过 [Liquid 访问 模板系统](https://github.com/Shopify/liquid/wiki/Liquid-for-Designers)。

Jekyll 支持从目录中的 [YAML](https://yaml.org/)、[JSON、](https://www.json.org/json-en.html)[CSV](https://en.wikipedia.org/wiki/Comma-separated_values) 和 [TSV](https://en.wikipedia.org/wiki/Tab-separated_values) 文件加载数据。 请注意，CSV 和 TSV 文件*必须*包含标题行。`_data`

这个强大的功能使您可以避免模板中的重复，并 在不更改 的情况下设置特定于站点的选项。`_config.yml`

插件/主题还可以利用数据文件来设置配置变量。

## 数据文件夹

该文件夹是您可以存储其他数据的地方，供 Jekyll 在以下情况下使用 生成您的网站。这些文件必须是 YAML、JSON、TSV 或 CSV 文件（使用 、或扩展名），它们将是 可通过 访问。`_data``.yml``.yaml``.json``.tsv``.csv``site.data`

## 示例：成员列表

下面是使用数据文件避免复制粘贴大块的基本示例 杰基尔模板中的代码：

在：`_data/members.yml`

```
- name: Eric Mill
  github: konklone

- name: Parker Moore
  github: parkr

- name: Liu Fengyun
  github: liufengyun
```

或：`_data/members.csv`

```
name,github
Eric Mill,konklone
Parker Moore,parkr
Liu Fengyun,liufengyun
```

此数据可以通过 （请注意，文件的基名决定了变量*名*和 因此，应避免在同一目录中具有相同基本名称但扩展名不同的数据文件）。`site.data.members`

现在，您可以在模板中呈现成员列表：

```
<ul>
{% for member in site.data.members %}
  <li>
    <a href="https://github.com/{{ member.github }}">
      {{ member.name }}
    </a>
  </li>
{% endfor %}
</ul>
```

## 子文件夹

数据文件也可以放置在文件夹的子文件夹中。每个文件夹 级别将添加到变量的命名空间中。下面的示例显示了如何 GitHub 组织可以在文件夹下的文件中单独定义：`_data``orgs`

在：`_data/orgs/jekyll.yml`

```
username: jekyll
name: Jekyll
members:
  - name: Tom Preston-Werner
    github: mojombo

  - name: Parker Moore
    github: parkr
```

在：`_data/orgs/doeorg.yml`

```
username: doeorg
name: Doe Org
members:
  - name: John Doe
    github: jdoe
```

然后，可以通过 访问组织，后跟 文件名：`site.data.orgs`

```
<ul>
{% for org_hash in site.data.orgs %}
{% assign org = org_hash[1] %}
  <li>
    <a href="https://github.com/{{ org.username }}">
      {{ org.name }}
    </a>
    ({{ org.members | size }} members)
  </li>
{% endfor %}
</ul>
```

## 示例：访问特定作者

页面和帖子也可以访问特定的数据项。下面的示例演示如何访问特定项目：

`_data/people.yml`:

```
dave:
    name: David Smith
    twitter: DavidSilvaSmith
```

然后，可以将作者指定为帖子前言中的页面变量：

```
---
title: sample post
author: dave
---

{% assign author = site.data.people[page.author] %}
<a rel="author"
  href="https://twitter.com/{{ author.twitter }}"
  title="{{ author.name }}">
    {{ author.name }}
</a>
```

有关如何为您的网站构建可靠的导航的信息（特别是如果您有文档网站或其他类型的 Jekyll 网站，其中包含大量页面要组织），请参阅[导航](http://jekyllrb.com/tutorials/navigation/)。

## CSV/TSV 解析选项

Ruby 解析 CSV 和 TSV 文件的方式可以使用 和 配置选项进行自定义。每个配置键公开相同的选项：`csv_reader``tsv_reader`

```
converters`：[CSV转换器](https://ruby-doc.org/stdlib-2.5.0/libdoc/csv/rdoc/CSV.html#Converters)应该是什么 解析文件时使用。可用选项包括 、 、 和 。默认情况下，此列表为空。：文件的编码方式。默认为站点配置选项。：布尔字段，用于是否将文件的第一行解析为标头。当 时，它对待 第一行作为数据。默认值为 。`integer``float``numeric``date``date_time``all``encoding``encoding``headers``false``true
```

例子：

```
csv_reader:
    converters:
      - numeric
      - datetime
    headers: true
    encoding: utf-8
tsv_reader:
    converters:
      - all
    headers: false
```



# 资产

Jekyll 为 [Sass](https://sass-lang.com/) 提供了内置支持，并且可以通过 Ruby gem 与 [CoffeeScript](https://coffeescript.org/) 配合使用。 为了使用它们，您必须首先创建一个具有正确扩展名的文件 名称（、 或 ） 中的一个，并以***两行三重短划线开始文件\***，如下所示：`.sass``.scss``.coffee`

```
---
---

// start content
.my-definition
  font-size: 1.2em
```

Jekyll 将这些文件视为与常规页面相同，因为输出文件 将放置在它来自的同一目录中。例如，如果您 在您网站的源文件夹中有一个文件名的文件，Jekyll 将处理它并将其放在您站点的目标文件夹中。`css/styles.scss``css/styles.css`

##### Jekyll 处理资产文件中的所有液体过滤器和标签

如果您使用的是 [Mustache](https://mustache.github.io/) 或其他与 [液体模板语法](http://jekyllrb.com/docs/templates/)，你 将需要在您的代码周围放置和标记。`{% raw %}``{% endraw %}`

## 萨斯/SCSS

Jekyll 允许您以某些方式自定义您的 Sass 转换。

将所有部件放在 中，默认为 。将主 SCSS 或 Sass 文件放在所需的位置 它们位于输出文件中，例如 .举个例子，以 看看[这个在 Jekyll 中使用 Sass 支持的示例站点](https://github.com/jekyll/jekyll-sass-converter/tree/master/docs)。`sass_dir``<source>/_sass``<source>/css`

如果使用 Sass 语句，则需要确保将 Sass 语句设置为包含 Sass 文件的基目录：`@import``sass_dir`

```
sass:
    sass_dir: _sass
```

Sass 转换器会将配置选项默认为 。`sass_dir``_sass`

##### 仅由 Sass 使用`sass_dir`

请注意，成为 Sass 导入的加载路径， 而已。这意味着杰基尔不知道这些文件 径直。此处的任何文件都不应包含空的前言，因为 上述。如果这样做，则不会如上所述进行转换。这 文件夹应仅包含导入。`sass_dir`

您还可以使用文件中的选项指定输出样式：`style``_config.yml`

```
sass:
    style: compressed
```

这些被传递给 Sass，因此 Sass 支持的任何输出样式选项都是有效的 这里也是。

有关 Sass 配置选项的详细信息，请参阅 [Sass 配置](http://jekyllrb.com/docs/configuration/sass/)文档。

## 咖啡脚本

要在 Jekyll 3.0 及更高版本中启用 Coffeescript，您必须

- 安装宝石`jekyll-coffeescript`
- 确保您的是最新的，并包括以下内容：`_config.yml`

```
plugins:
  - jekyll-coffeescript
```



# 静态文件

静态文件是不包含任何前言的文件。这些 包括图像、PDF 和其他未呈现的内容。

它们可以通过液体访问，并包含 以下元数据：`site.static_files`

| 变量                 | 描述                                                  |
| -------------------- | ----------------------------------------------------- |
| `file.path`          | 文件的相对路径，例如`/assets/img/image.jpg`           |
| `file.modified_time` | 上次修改文件的“时间”，例如`2016-04-01 16:35:26 +0200` |
| `file.name`          | 文件的字符串名称，例如 为`image.jpg``image.jpg`       |
| `file.basename`      | 文件的字符串基名称，例如 为`image``image.jpg`         |
| `file.extname`       | 文件的扩展名，例如 为`.jpg``image.jpg`                |

请注意，在上表中，可以是任何内容。它是在您自己的逻辑中使用的任意设置变量（例如在 for 循环中）。它不是全局网站或页面变量。`file`

## 将前言添加到静态文件

虽然不能直接将前言值添加到静态文件，但可以通过配置文件中的 [defaults 属性](http://jekyllrb.com/docs/configuration/front-matter-defaults/)设置前言值。当 Jekyll 构建网站时，它将使用您设置的前言值。

下面是一个示例：

在文件中，将以下值添加到属性中：`_config.yml``defaults`

```
defaults:
  - scope:
      path: "assets/img"
    values:
      image: true
```

这假设您的 Jekyll 站点具有存储图像（静态文件）的文件夹路径。当 Jekyll 构建网站时，它会将每个图像视为具有 的前置值 。`assets/img``image: true`

假设您要列出包含在 中的所有图像资源。您可以使用此 for 循环来查找对象并获取具有此前言属性的所有静态文件：`assets/img``static_files`

```
{% assign image_files = site.static_files | where: "image", true %}
{% for myimage in image_files %}
  {{ myimage.path }}
{% endfor %}
```

构建站点时，输出将列出满足此前言条件的每个文件的路径。

## 网站结构



# 目录结构

一个基本的Jekyll网站通常看起来像这样：

```
.
├── _config.yml
├── _data
│   └── members.yml
├── _drafts
│   ├── begin-with-the-crazy-ideas.md
│   └── on-simplicity-in-technology.md
├── _includes
│   ├── footer.html
│   └── header.html
├── _layouts
│   ├── default.html
│   └── post.html
├── _posts
│   ├── 2007-10-29-why-every-programmer-should-play-nethack.md
│   └── 2009-04-26-barcamp-boston-4-roundup.md
├── _sass
│   ├── _base.scss
│   └── _layout.scss
├── _site
├── .jekyll-cache
│   └── Jekyll
│       └── Cache
│           └── [...]
├── .jekyll-metadata
└── index.html # can also be an 'index.md' with valid front matter
```

##### 使用基于 gem 的主题的 Jekyll 网站的目录结构

从3.2版本开始，一个新的Jekyll项目使用[基于gem的主题](http://jekyllrb.com/docs/themes/)来定义网站的外观。这会产生更轻量级的默认目录结构：，并且默认情况下存储在主题 gem 中。`jekyll new``_layouts``_includes``_sass`



最小值是当前的默认主题，它将向您显示[最小](https://github.com/jekyll/minima)值主题的文件在计算机上的存储位置。`bundle info minima`

概述其中每个功能：

| 文件/目录                                         | 描述                                                         |
| ------------------------------------------------- | ------------------------------------------------------------ |
| `_config.yml`                                     | 存储[配置](http://jekyllrb.com/docs/configuration/)数据。许多 这些选项可以从命令行可执行文件中指定，但 在此处指定它们更容易，因此您不必记住它们。 |
| `_drafts`                                         | 草稿是未发布的帖子。这些文件的格式没有 日期：。了解如何[使用草稿](http://jekyllrb.com/docs/posts/#drafts)。`title.MARKUP` |
| `_includes`                                       | 这些是可以根据您的布局混合和匹配的部分 和帖子，以方便重复使用。液体标记可用于在 中包含部分。`{% include file.ext %}``_includes/file.ext` |
| `_layouts`                                        | 这些是包装帖子的模板。布局是在 [在前言](http://jekyllrb.com/docs/front-matter/)中逐个帖子， 这将在下一节中介绍。液体标签用于将内容注入网页。`{{ content }}` |
| `_posts`                                          | 可以这么说，您的动态内容。这些的命名约定 文件很重要，必须遵循以下格式：。 [永久链接](http://jekyllrb.com/docs/permalinks/)可以定制 每个帖子，但日期和标记语言完全由 文件名。`YEAR-MONTH-DAY-title.MARKUP` |
| `_data`                                           | 格式正确的网站数据应放置在此处。杰基尔引擎 将自动加载此目录中的所有数据文件（使用 、、 或格式和扩展名）， 它们将通过“site.data”访问。如果目录下有文件，则可以访问 通过 的文件内容。`.yml``.yaml``.json``.csv``.tsv``members.yml``site.data.members` |
| `_sass`                                           | 这些是可以导入到您的部分中的 sass 部分，然后将其处理成一个样式表，该样式表定义了您的网站要使用的样式。 了解如何[使用资产](http://jekyllrb.com/docs/assets/)。`main.scss``main.css` |
| `_site`                                           | 这是生成的站点将被放置一次（默认情况下）的位置 杰基尔完成了改造。添加这个可能是个好主意 到您的文件。`.gitignore` |
| `.jekyll-cache`                                   | 保留生成的页面和标记（例如：markdown）的副本 更快的服务。使用时创建，例如： . 可以使用[选项和/或标志](http://jekyllrb.com/docs/configuration/options/)禁用。 此目录不会包含在生成的站点中。它 将其添加到您的文件中可能是个好主意。`jekyll serve``.gitignore` |
| `.jekyll-metadata`                                | 这有助于 Jekyll 跟踪哪些文件尚未修改 自上次构建网站以来，以及需要哪些文件 在下一次生成时重新生成。仅在使用[增量再生](http://jekyllrb.com/docs/configuration/incremental-regeneration/)时创建（例如：使用 ）。 此文件不会包含在生成的网站中。可能是 将其添加到您的文件中是个好主意。`jekyll serve -I``.gitignore` |
| `index.html`或其他 HTML 文件， 降价文件`index.md` | 前提是文件有[正面 物质](http://jekyllrb.com/docs/front-matter/)部分，将由杰基尔改造。同样的意志 发生在站点根目录中的任何、、或文件上 目录或上面未列出的目录。`.html``.markdown``.md``.textile` |
| 其他文件/文件夹                                   | 除上面列出的特殊情况外，其他所有目录和 文件（如和文件夹、文件等）将逐字复制 到生成的站点。有很多[网站 已经在使用 Jekyll 如果你](http://jekyllrb.com/showcase/)想知道它们是如何铺设的 外。`css``images``favicon.ico` |

目录中以下列字符开头的每个文件或目录：、 或 将不会包含在文件夹中。此类路径必须通过指令中的配置文件显式指定，以确保它们被复制：`.``_ ``#``~``source``destination``include`

```
include:
 - _pages
 - .htaccess
```

# 液

Jekyll 使用 [Liquid](https://shopify.github.io/liquid/) 模板语言 以处理模板。

通常在 Liquid 中，您使用两个大括号输出内容，例如 并通过以下方式执行逻辑语句 用大括号百分比符号包围它们，例如 .要了解有关液体的更多信息，请查看 出[官方液体文档](https://shopify.github.io/liquid/)。`{{ variable }}``{% if statement %}`

Jekyll 提供了许多有用的 Liquid 补充来帮助您构建您的网站：

- [过滤 器](http://jekyllrb.com/docs/liquid/filters/)
- [标签](http://jekyllrb.com/docs/liquid/tags/)



[Variables | Jekyll • Simple, blog-aware, static sites (jekyllrb.com)](http://jekyllrb.com/docs/variables/)









