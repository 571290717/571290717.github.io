Title:# 9、导入现有站点[¶](https://www.osgeo.cn/pelican/importer.html#importing-an-existing-site)

## 描述[¶](https://www.osgeo.cn/pelican/importer.html#description)

`pelican-import` 是一个命令行工具，用于将其他软件中的项目转换为reStructuredText或Markdown。支持的导入格式包括：

- Blogger XML导出

  <iframe id="aswift_1" name="aswift_1" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="667" height="167" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-1466963416408457&amp;output=html&amp;h=167&amp;slotname=8850786025&amp;adk=3293689050&amp;adf=2778683036&amp;pi=t.ma~as.8850786025&amp;w=667&amp;fwrn=4&amp;lmt=1667356602&amp;rafmt=11&amp;format=667x167&amp;url=https%3A%2F%2Fwww.osgeo.cn%2Fpelican%2Fimporter.html&amp;wgl=1&amp;uach=WyJXaW5kb3dzIiwiMC4xLjAiLCJ4ODYiLCIiLCIxMDkuMC4xNTE4LjEwMCIsW10sMCxudWxsLCI2NCIsW1siTm90X0EgQnJhbmQiLCI5OS4wLjAuMCJdLFsiTWljcm9zb2Z0IEVkZ2UiLCIxMDkuMC4xNTE4LjEwMCJdLFsiQ2hyb21pdW0iLCIxMDkuMC41NDE0LjE0MSJdXSwwXQ..&amp;dt=1683791443774&amp;bpp=1&amp;bdt=139&amp;idt=157&amp;shv=r20230509&amp;mjsv=m202305090101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D641c9467ea40a91a-22538105a6e0002d%3AT%3D1683770664%3ART%3D1683770664%3AS%3DALNI_MZtvmW3aPDkmcOm4FI_vtgEM7P9QQ&amp;gpic=UID%3D00000bf0713407e1%3AT%3D1683770664%3ART%3D1683770664%3AS%3DALNI_MbArlFIJFScL_XeWUNzgI45KFiPNw&amp;prev_fmts=0x0&amp;nras=1&amp;correlator=2280762892108&amp;frm=20&amp;pv=1&amp;ga_vid=882872583.1683791444&amp;ga_sid=1683791444&amp;ga_hid=1493424792&amp;ga_fc=0&amp;rplot=4&amp;u_tz=480&amp;u_his=21&amp;u_h=864&amp;u_w=1536&amp;u_ah=824&amp;u_aw=1536&amp;u_cd=24&amp;u_sd=1&amp;dmc=4&amp;adx=50&amp;ady=380&amp;biw=743&amp;bih=740&amp;scr_x=0&amp;scr_y=0&amp;eid=44759927%2C44759876%2C44773810%2C44759842%2C31074511%2C44788442%2C44789779&amp;oid=2&amp;pvsid=2428107822723476&amp;tmod=763085482&amp;uas=0&amp;nvt=1&amp;ref=https%3A%2F%2Fwww.osgeo.cn%2Fpelican%2Fpelican-themes.html&amp;fc=1920&amp;brdim=0%2C0%2C0%2C0%2C1536%2C0%2C768%2C824%2C760%2C740&amp;vis=1&amp;rsz=%7C%7CapEe%7C&amp;abl=CA&amp;pfx=0&amp;fu=128&amp;bc=31&amp;ifi=2&amp;uci=a!2&amp;fsb=1&amp;xpc=oTpfBnIHip&amp;p=https%3A//www.osgeo.cn&amp;dtd=178" data-google-container-id="a!2" data-load-complete="true" data-google-query-id="CN_Npfjj7P4CFQLTvQodyUwBpQ" style="box-sizing: border-box; left: 0px; position: absolute; top: 0px; border: 0px; width: 667px; height: 167px;"></iframe>

- Dotclear导出

- 后期API

- Tumblr API公司

- WordPress XML导出

- RSS/Atom源

从HTML到restructedText或Markdown的转换依赖于 [Pandoc](https://pandoc.org/) . 对于Dotclear，如果源帖子是用Markdown语法编写的，它们将不会被转换（因为Pelican也支持Markdown）。

注解

与鹈鹕不同，Wordpress支持每篇文章多个类别。它们作为逗号分隔的字符串导入。您必须手动解决这些问题，或者使用如下插件 [More Categories](https://github.com/pelican-plugins/more-categories) 这使得每篇文章可以有多个类别。

## 依赖关系[¶](https://www.osgeo.cn/pelican/importer.html#dependencies)

`pelican-import` 有一些其他Pelican不需要的依赖性：

- *美丽之旅4* 和 *lxml* ，用于WordPress和Dotclear导入。可以像其他Python包一样安装 (`pip install BeautifulSoup4 lxml` ）
- *提要分析器* 源，用于导入 (`pip install feedparser` ）
- *潘多克* 见 [Pandoc site](https://pandoc.org/installing.html) 有关操作系统的安装说明。

## 使用[¶](https://www.osgeo.cn/pelican/importer.html#usage)

```
pelican-import [-h] [--blogger] [--dotclear] [--posterous] [--tumblr] [--wpfile] [--feed]
               [-o OUTPUT] [-m MARKUP] [--dir-cat] [--dir-page] [--strip-raw] [--wp-custpost]
               [--wp-attach] [--disable-slugs] [-e EMAIL] [-p PASSWORD] [-b BLOGNAME]
               input|api_token|api_key
```

### 位置参数[¶](https://www.osgeo.cn/pelican/importer.html#positional-arguments)

> | `input`     | 要读取的输入文件                                           |
> | ----------- | ---------------------------------------------------------- |
> | `api_token` | （仅限Posterous）api_令牌可从http://posterous.com/api/     |
> | `api_key`   | （仅限Tumblr）api密钥可从https://www.tumblr.com/oauth/apps |

### 可选参数[¶](https://www.osgeo.cn/pelican/importer.html#optional-arguments)

> - -h, --help
>
>   显示此帮助消息并退出
>
> - --blogger
>
>   Blogger XML导出（默认值：False）
>
> - --dotclear
>
>   Dotclear导出（默认值：False）
>
> - --posterous
>
>   Posterous API（默认值：False）
>
> - --tumblr
>
>   Tumblr API（默认值：False）
>
> - --wpfile
>
>   WordPress XML导出（默认值：False）
>
> - --feed
>
>   要分析的源（默认值：False）
>
> - -o OUTPUT, --output OUTPUT
>
>   输出路径（默认：内容）
>
> - -m MARKUP, --markup MARKUP
>
>   输出标记格式： `rst` ， `markdown` 或 `asciidoc` （默认： `rst` ）
>
> - --dir-cat
>
>   将文件放入类别名称为的目录中（默认值：False）
>
> - --dir-page
>
>   将识别为页面的文件放入“pages/”子目录（blogger和wordpress仅导入）（默认值：False）
>
> - --filter-author
>
>   只从指定作者导入文章
>
> - --strip-raw
>
>   剥离无法转换为标记（如flash嵌入或iframes）的原始HTML代码（仅限wordpress导入）（默认值：False）
>
> - --wp-custpost
>
>   将wordpress自定义文章类型放入目录中。如果与--dir cat选项一起使用，目录将创建为“/post_type/category/”（仅限wordpress import）
>
> - --wp-attach
>
>   下载作为附件上传到wordpress的文件。文件将作为一个列表添加到文章标题中，并且到文章中文件的链接将被更新。所有文件都将被下载，即使它们与文章没有关联。文件将以其原始路径下载到输出目录中，例如“output/wp uploads/date/postname”/文件.jpg". （仅限wordpress导入）（需要internet连接）
>
> - --disable-slugs
>
>   禁止在输出中存储来自导入的post的slug。禁用此功能后，您的Pelican网址可能与您的原始帖子不一致。（默认值：False）
>
> - -e EMAIL, --email=EMAIL
>
>   用于验证Posterous API的电子邮件
>
> - -p PASSWORD, --password=PASSWORD
>
>   用于验证Posterous API的密码
>
> - -b BLOGNAME, --blogname=BLOGNAME
>
>   Tumblr API中使用的博客名称

## 实例[¶](https://www.osgeo.cn/pelican/importer.html#examples)

博客写手：

```
$ pelican-import --blogger -o ~/output ~/posts.xml
```

对于Dotclear:：

```
$ pelican-import --dotclear -o ~/output ~/backup.txt
```

对于波斯特罗斯：

```
$ pelican-import --posterous -o ~/output --email=<email_address> --password=<password> <api_token>
```

对于Tumblr:：

```
$ pelican-import --tumblr -o ~/output --blogname=<blogname> <api_token>
```

对于WordPress:：

```
$ pelican-import --wpfile -o ~/output ~/posts.xml
```

## 测验[¶](https://www.osgeo.cn/pelican/importer.html#tests)

要测试模块，可以使用示例文件：

- 对于WordPress：https://www.wpkinerter.com/wp-themes/how-to-add-dummy-content-for-theme-development-in-wordpress/
- 对于Dotclear：http://media.dotdatict.org/tda/downloads/lorem-backup.txt