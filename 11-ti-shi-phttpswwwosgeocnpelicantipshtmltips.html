<!doctype html>
<html lang="chinese (simplified)">
<head>
  <meta charset="utf-8">
  <!-- Site Meta Data -->
  <title># 11、提示[¶](https://www.osgeo.cn/pelican/tips.html#tips)</title>
  <meta name="description" content="">
  <meta name="author" content="the_toast">

  <!-- Style Meta Data -->
  <link rel="stylesheet" href="/theme/css/notebook.css" type="text/css" />
  <link rel="shortcut icon" href="/20230502-myphoto.jpg">

  <!-- Feed Meta Data -->
  <link href="/" type="application/atom+xml" rel="alternate" title="the_toast ATOM Feed" />
  <link rel="shortcut icon" href="/theme/images/20230502-myphoto.jpg">
<!--  &lt;!&ndash; Twitter Feed &ndash;&gt;-->
<!--  <meta name="twitter:card" content="summary">-->
<!--  <meta name="twitter:site" content="">-->
<!--  <meta name="twitter:image" content="/20230502-myphoto.jpg">-->

<meta name="twitter:creator" content="">
<meta name="twitter:url" content="/11-ti-shi-phttpswwwosgeocnpelicantipshtmltips.html">
<meta name="twitter:title" content="the_toast ~ # 11、提示[¶](https://www.osgeo.cn/pelican/tips.html#tips)">
<meta name="twitter:description" content="<p>以下是一些关于Pelican的提示，你可能会发现有用。</p>
<h2>自定义404页<a href="https://www.osgeo.cn/pelican/tips.html#custom-404-pages">¶</a></h2>
<p>当浏览器请求web服务器找不到的资源时，web服务器通常会显示一个通用的“找不到文件”（404）错误页，这可能是一个明显的、难看的错 …</p>">

<!--&lt;!&ndash; Facebook Meta Data &ndash;&gt;-->
<!--<meta property="og:title" content="the_toast ~ # 11、提示[¶](https://www.osgeo.cn/pelican/tips.html#tips)" />-->
<!--<meta property="og:description" content="<p>以下是一些关于Pelican的提示，你可能会发现有用。</p>
<h2>自定义404页<a href="https://www.osgeo.cn/pelican/tips.html#custom-404-pages">¶</a></h2>
<p>当浏览器请求web服务器找不到的资源时，web服务器通常会显示一个通用的“找不到文件”（404）错误页，这可能是一个明显的、难看的错 …</p>" />-->
<!--<meta property="og:image" content="20230502-myphoto.jpg" />-->
</head>

<body>
  <!-- Sidebar -->
  <aside>
    <p><a href=""><img id="avatar" src="/theme/images/20230502-myphoto.jpg"></a></p>
    <h1>the_toast</h1>
    <p></p>
    <hr>
    <h2>Social</h2>
    <ul class="social">
      <li style="list-style-image : url(/theme/images/icons/github.png);"><a href="#">GitHub</a></li>
      <li style="list-style-image : url(/theme/images/icons/facebook.png);"><a href="#">facebook</a></li>
      <li style="list-style-image : url(/theme/images/icons/github2.png);"><a href="#">GitHub2</a></li>
      <li style="list-style-image : url(/theme/images/icons/phone.png);"><a href="13304036141">phone</a></li>
      <li style="list-style-image : url(/theme/images/icons/rss.png);"><a href="/" rel="alternate"><i class="icon-bookmark icon-large"></i>Atom feed</a></li>
    </ul>
    <h2>目录</h2>
    <ul class="navbar">
      <li><a href="/category/shou-ye.html">首页</a></li>
      <li><a href="/category/review.html">Review</a></li>
      <li><a href="/category/pelicanjiao-cheng.html">pelican教程</a></li>
      <li class="active"><a href="/category/misc.html">misc</a></li>
      <li><a href="/hgxjianli.html" target="_blank">个人简历</a></li>
      <li><a href="/hgxtester.html" target="_blank">个人介绍</a></li>
    </ul> 
  </aside>





  <!-- Content -->
  <article>
<section id="content">
    <article>
        <header class="post_list">
            <h2 class="post_title"><a href="/11-ti-shi-phttpswwwosgeocnpelicantipshtmltips.html" rel="bookmark" title="Permalink to # 11、提示[¶](https://www.osgeo.cn/pelican/tips.html#tips)"># 11、提示[¶](https://www.osgeo.cn/pelican/tips.html#tips)</a></h2>
            <span>Par </span>
            <a href="/author/the_toast.html">@the_toast</a>
            <span> dans </span>
            <span class="post_category"><a href="/category/misc.html" rel="bookmark" title="Permalink to misc">[ misc ]</a></span>
            <span> le </span>
            <span class="post_date">2023-10-31 星期二 00:00</span>
<!--            <div><span>Tags : </span>-->
<!--                -->
<!--            </div>-->

<!--            <div class="entry-social">-->
<!--                <span class="twitter"><a target="_blank" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;" title="Twitter" href="https://twitter.com/share?url=/11-ti-shi-phttpswwwosgeocnpelicantipshtmltips.html&text=# 11、提示[¶](https://www.osgeo.cn/pelican/tips.html#tips)&via=">Twitter</a></span>-->

<!--                <span class="gplus"><a target="_blank" title="Google +" href="https://plus.google.com/share?url=/11-ti-shi-phttpswwwosgeocnpelicantipshtmltips.html&hl=fr" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;">Google+</a></span>-->

<!--                <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;" href="https://www.facebook.com/sharer.php?u=/11-ti-shi-phttpswwwosgeocnpelicantipshtmltips.html&t=# 11、提示[¶](https://www.osgeo.cn/pelican/tips.html#tips)">Facebook</a></span>-->

<!--                <a  target="_blank" title="Linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=</11-ti-shi-phttpswwwosgeocnpelicantipshtmltips.html&title=# 11、提示[¶](https://www.osgeo.cn/pelican/tips.html#tips)" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;">Linkedin</a>-->

<!--                <span class="mail"><a href="mailto:?subject=# 11、提示[¶](https://www.osgeo.cn/pelican/tips.html#tips)&amp;body=Viens découvrir un article à propos de [# 11、提示[¶](https://www.osgeo.cn/pelican/tips.html#tips)] sur le site de the_toast. /11-ti-shi-phttpswwwosgeocnpelicantipshtmltips.html" title="Share by Email" target="_blank">Mail</a></span>-->
<!--            </div>-->
        </header>
        <div class="entry-content">
            <p>以下是一些关于Pelican的提示，你可能会发现有用。</p>
<h2>自定义404页<a href="https://www.osgeo.cn/pelican/tips.html#custom-404-pages">¶</a></h2>
<p>当浏览器请求web服务器找不到的资源时，web服务器通常会显示一个通用的“找不到文件”（404）错误页，这可能是一个明显的、难看的错误页。提供与站点主题匹配的错误页面的一种方法是创建一个自定义404页面( <em>not</em> 一篇文章），例如这个Markdown格式的示例存储在 <code>content/pages/404.md</code> ：</p>
<div class="highlight"><pre><span></span><code><span class="nl">Title</span><span class="p">:</span><span class="w"> </span><span class="ow">Not</span><span class="w"> </span><span class="k">Found</span>
<span class="nl">Status</span><span class="p">:</span><span class="w"> </span><span class="n">hidden</span>
<span class="nl">Save_as</span><span class="p">:</span><span class="w"> </span><span class="mf">404.</span><span class="n">html</span>

<span class="n">The</span><span class="w"> </span><span class="n">requested</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">located</span><span class="p">.</span><span class="w"> </span><span class="n">Perhaps</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">check</span>
<span class="n">the</span><span class="w"> </span><span class="o">[</span><span class="n">Archives</span><span class="o">]</span><span class="p">(</span><span class="o">/</span><span class="n">archives</span><span class="p">.</span><span class="n">html</span><span class="p">)</span><span class="vm">?</span>
</code></pre></div>

<p>下一步是配置web服务器以显示此自定义页，而不是默认的404页。对于Nginx，在配置文件中添加以下内容 <code>location</code> 块：</p>
<div class="highlight"><pre><span></span><code>error_page 404 /404.html;
</code></pre></div>

<p>对于Apache:：</p>
<div class="highlight"><pre><span></span><code>ErrorDocument 404 /404.html
</code></pre></div>

<p>对于Amazon S3，首先导航到 <code>Static Site Hosting</code> 你的AWS cosole的bucket设置菜单。从那里：</p>
<div class="highlight"><pre><span></span><code>Error Document: 404.html
</code></pre></div>

<h2>发布到GitHub<a href="https://www.osgeo.cn/pelican/tips.html#publishing-to-github">¶</a></h2>
<p><a href="https://help.github.com/categories/20/articles">GitHub Pages</a> 提供一个简单方便的方式来发布Pelican网站。有 <a href="https://help.github.com/articles/user-organization-and-project-pages">two types of GitHub Pages</a> ： <em>项目页面</em> 和 <em>用户页面</em> . Pelican网站可以发布为项目页面和用户页面。</p>
<h3>项目页面<a href="https://www.osgeo.cn/pelican/tips.html#project-pages">¶</a></h3>
<p>要将Pelican网站发布为项目页面，您需要 <em>push</em> 的内容 <code>output</code> Pelican生成的指向存储库的目录 <code>gh-pages</code> GitHub上的分支。</p>
<p>优秀的 <a href="https://github.com/davisp/ghp-import">ghp-import</a> ，可与一起安装 <code>pip</code> ，使这个过程非常简单。</p>
<p>例如，如果Pelican站点的源包含在GitHub存储库中，并且希望以项目页面的形式将Pelican站点发布到此存储库，则可以使用以下命令：</p>
<div class="highlight"><pre><span></span><code><span class="err">$</span> <span class="n">pelican</span> <span class="n">content</span> <span class="o">-</span><span class="n">o</span> <span class="n">output</span> <span class="o">-</span><span class="n">s</span> <span class="n">pelicanconf</span><span class="o">.</span><span class="n">py</span>
<span class="err">$</span> <span class="n">ghp</span><span class="o">-</span><span class="kn">import</span> <span class="nn">output</span> <span class="o">-</span><span class="n">b</span> <span class="n">gh</span><span class="o">-</span><span class="n">pages</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">gh</span><span class="o">-</span><span class="n">pages</span>
</code></pre></div>

<p>这个 <code>ghp-import output</code> 命令更新本地 <code>gh-pages</code> 包含 <code>output</code> 目录（如果分支不存在，则创建分支）。这个 <code>git push origin gh-pages</code> 命令更新远程 <code>gh-pages</code> 有效地发布了Pelican网站。</p>
<p>注解</p>
<p>这个 <code>github</code> 生成文件的目标（和 <code>gh_pages</code> 任务 <code>tasks.py</code> )创建人 <code>pelican-quickstart</code> 命令将Pelican站点发布为项目页面，如上所述。</p>
<h3>用户页面<a href="https://www.osgeo.cn/pelican/tips.html#user-pages">¶</a></h3>
<p>要以用户页面的形式发布Pelican站点，您需要 <em>push</em> 的内容 <code>output</code> Pelican向 <code>master</code> 你的分支机构 <code>&lt;username&gt;.github.io</code> GitHub上的存储库。</p>
<p>同样，你可以利用 <code>ghp-import</code> ：</p>
<div class="highlight"><pre><span></span><code><span class="err">$</span> <span class="n">pelican</span> <span class="n">content</span> <span class="o">-</span><span class="n">o</span> <span class="n">output</span> <span class="o">-</span><span class="n">s</span> <span class="n">pelicanconf</span><span class="o">.</span><span class="n">py</span>
<span class="err">$</span> <span class="n">ghp</span><span class="o">-</span><span class="kn">import</span> <span class="nn">output</span> <span class="o">-</span><span class="n">b</span> <span class="n">gh</span><span class="o">-</span><span class="n">pages</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">push</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">elemoine</span><span class="o">/</span><span class="n">elemoine</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">git</span> <span class="n">gh</span><span class="o">-</span><span class="n">pages</span><span class="p">:</span><span class="n">master</span>
</code></pre></div>

<p>这个 <code>git push</code> 命令推动本地 <code>gh-pages</code> 分支机构（由 <code>ghp-import</code> 命令）发送给 <code>elemoine.github.io</code> 存储库的 <code>master</code> GitHub上的分支。</p>
<p>注解</p>
<p>要将您的Pelican网站发布为用户页面，请随时调整 <code>github</code> 生成文件的目标。</p>
<p>发布到用户页面的另一个选项是在项目的根目录中生成输出文件。</p>
<p>例如，您的主项目文件夹是 <code>&lt;username&gt;.github.io</code> 你可以在一个名为Pelican的子目录中创建Pelican项目 <code>Pelican</code> . 然后从里面 <code>Pelican</code> 可以运行的文件夹：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pelican<span class="w"> </span>content<span class="w"> </span>-o<span class="w"> </span>..<span class="w"> </span>-s<span class="w"> </span>pelicanconf.py
</code></pre></div>

<p>现在你可以推动整个项目 <code>&lt;username&gt;.github.io</code> 到GitHub存储库的主分支：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>master
</code></pre></div>

<p>（假设源设置为远程存储库）。</p>
<h3>自定义404页<a href="https://www.osgeo.cn/pelican/tips.html#id1">¶</a></h3>
<p>GitHub页面将显示上面描述的自定义404页面，如相关的 <a href="https://help.github.com/articles/custom-404-pages/">GitHub docs</a> .</p>
<h3>每次提交时更新站点<a href="https://www.osgeo.cn/pelican/tips.html#update-your-site-on-each-commit">¶</a></h3>
<p>要在每次提交时自动更新Pelican站点，可以创建post-commit钩子。例如，可以将以下内容添加到 <code>.git/hooks/post-commit</code> ：</p>
<div class="highlight"><pre><span></span><code><span class="n">pelican</span> <span class="n">content</span> <span class="o">-</span><span class="n">o</span> <span class="n">output</span> <span class="o">-</span><span class="n">s</span> <span class="n">pelicanconf</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;&amp;</span> <span class="n">ghp</span><span class="o">-</span><span class="kn">import</span> <span class="nn">output</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">gh</span><span class="o">-</span><span class="n">pages</span>
</code></pre></div>

<h3>将静态文件复制到站点的根目录<a href="https://www.osgeo.cn/pelican/tips.html#copy-static-files-to-the-root-of-your-site">¶</a></h3>
<p>使用A <a href="https://help.github.com/articles/setting-up-a-custom-domain-with-pages">custom domain</a> 对于GitHub页面，您需要将站点的域（例如。， <code>blog.example.com</code> )内部 <code>CNAME</code> 在你的网站根目录下的文件。为此，创建 <code>content/extra/</code> 目录并添加 <code>CNAME</code> 把它归档。然后使用 <code>STATIC_PATHS</code> 设置告诉Pelican将此文件复制到输出目录。例如：</p>
<div class="highlight"><pre><span></span><code>STATIC_PATHS = [&#39;images&#39;, &#39;extra/CNAME&#39;]
EXTRA_PATH_METADATA = {&#39;extra/CNAME&#39;: {&#39;path&#39;: &#39;CNAME&#39;},}
</code></pre></div>

<p>注意：使用正斜杠， <code>/</code> ，即使是在窗户上。</p>
<p>您也可以使用 <code>EXTRA_PATH_METADATA</code> 放置一个 <code>favicon.ico</code> 或 <code>robots.txt</code> 在任何站点的根上。</p>
<h2>如何添加YouTube或Vimeo视频<a href="https://www.osgeo.cn/pelican/tips.html#how-to-add-youtube-or-vimeo-videos">¶</a></h2>
<p>最简单的方法是将这些网站的视频嵌入代码直接粘贴到源内容中。</p>
<p>或者，您也可以使用Pelican插件，比如 <code>liquid_tags</code> ， <code>pelican_youtube</code> 或 <code>pelican_vimeo</code> 在内容中嵌入视频。</p>
<p>此外，像reST和Markdown这样的标记语言都有插件，可以让您在标记中嵌入视频。你可以用 <a href="https://gist.github.com/dbrgn/2922648">reST video directive</a> 休息或 <a href="https://github.com/italomaia/mdx-video">mdx_video plugin</a> 为了降价。</p>
<h2>使用SSL在本地开发<a href="https://www.osgeo.cn/pelican/tips.html#develop-locally-using-ssl">¶</a></h2>
<p>下面是如何设置本地pelican服务器以支持SSL。</p>
<p>首先，使用创建自签名证书和密钥 <code>openssl</code> （这就产生了 <code>cert.pem</code> 和 <code>key.pem</code> ）：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>openssl<span class="w"> </span>req<span class="w"> </span>-x509<span class="w"> </span>-newkey<span class="w"> </span>rsa:4096<span class="w"> </span>-keyout<span class="w"> </span>key.pem<span class="w"> </span>-out<span class="w"> </span>cert.pem<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-nodes
</code></pre></div>

<p>并使用此命令启动服务器（服务器在 <code>output</code> 目录）：</p>
<div class="highlight"><pre><span></span><code>python -m pelican.server 8443 --key=../key.pem --cert=../cert.pem
</code></pre></div>

<p>如果您正在使用 <code>develop-server.sh</code> ，将此添加到顶部：</p>
<div class="highlight"><pre><span></span><code>CERT=&quot;$BASEDIR/cert.pem&quot;
KEY=&quot;$BASEDIR/key.pem&quot;
</code></pre></div>

<p>并修改 <code>pelican.server</code> 线路如下：</p>
<div class="highlight"><pre><span></span><code>$PY -m pelican.server $port --ssl --cert=&quot;$CERT&quot; --key=&quot;$KEY&quot; &amp;
</code></pre></div>

<p><a href="https://www.osgeo.cn/pelican/faq.html"> Previous</a><a href="https://www.osgeo.cn/pelican/contribute.html">Next </a></p>
        </div>

        <div class="entry-content">
        <span> 本文作者 : </span>
        <span class="post_date">2023-10-31 星期二 00:00</span>
        <br/>
        <span> 本文链接 : </span>
        <a href="/11-ti-shi-phttpswwwosgeocnpelicantipshtmltips.html" title="Linux查看硬件信息" target="_blank"> http://127.0.0.1:8000/11-ti-shi-phttpswwwosgeocnpelicantipshtmltips.html</a>

        <br/>
        <span> 版权声明 : </span>
        <span class="post_date">本博客所有文章除特别声明外，均采用 Apache License 2.0 许可协议。转载请注明出处！</span>
        <br/>
        </div>



    </article>
</section>
  </article>

  <!-- Footer -->
  <footer>
    <address id="about" class="vcard body">
    </address>
  </footer>


</body>
</html>